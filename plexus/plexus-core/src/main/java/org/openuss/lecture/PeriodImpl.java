// OpenUSS - Open Source University Support System
//
// Attention: Generated code! Do not modify by hand!
// Generated by: HibernateEntity.vsl in andromda-hibernate-cartridge.
//
package org.openuss.lecture;

import java.util.Calendar;
import java.util.Date;

import org.apache.commons.lang.Validate;
import org.apache.commons.lang.time.DateUtils;

/**
 * @author Ingo Düppe
 * 
 * @see org.openuss.lecture.Period
 */
public class PeriodImpl extends org.openuss.lecture.PeriodBase implements org.openuss.lecture.Period {

	private static final long serialVersionUID = 9086031628022698697L;

	@Override
	public void add(Course course) {
		Validate.notNull(course, "Period.add(Course) - course cannot be null");

		if (this.getCourses().contains(course)) {
			throw new IllegalStateException("The Course has already been in the List.");
		} 

		this.getCourses().add(course);
		course.setPeriod(this);
	}

	@Override
	public void remove(Course course) {
		getCourses().remove(course);
	}

	@Override 
	public boolean isActive() {
		Date now = new Date();
		return this.getStartdate().before(now) && this.getEnddate().after(now);
	}

	@Override
	public void setEnddate(Date enddate) {
		super.setEnddate(DateUtils.truncate(enddate, Calendar.DATE));
	}

	@Override
	public void setStartdate(Date startdate) {
		super.setStartdate(DateUtils.truncate(startdate, Calendar.DATE));
	}
}