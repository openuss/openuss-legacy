<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<ui:composition xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:o="http://www.openuss.org/jsfcontrols"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:t="http://myfaces.apache.org/tomahawk"
	xmlns:c="http://java.sun.com/jstl/core"
	xmlns:fck="http://www.fck-faces.org/fck-faces"
	xmlns:ts="http://myfaces.apache.org/sandbox">

	<div class="content_box">
		<div class="content_box">
			<div class="header_normal_left_bg"/>
    		<div class="header_normal_right_bg"/>
		    <div class="header_normal">
				<p class="header_font_normal">
					<h:outputFormat value="#{msg.user_profile_preview_heading}">
						<f:param value="#{showuser.firstName}" />	
						<f:param value="#{showuser.lastName}" />
						<f:param value="#{showuser.username}" />
					</h:outputFormat>
				</p>
			</div>


	<address class="vcard" style="display: none">
	<span class="fn" style="display: none">
		<c:if test="#{showuser.profileContactPublic or views$secured$user$userprofile.buddy}">
			<span class="family-name">#{showuser.lastName}</span>
			<span class="given-name">#{showuser.firstName}</span>
			<span class="adr type=home" style="display: none"></span>
		</c:if>
		</span>
		<span class="adr home" style="display: none">
		<c:if test="#{showuser.addressPublic or views$secured$user$userprofile.buddy}">
				<span class="street-address">#{showuser.address}</span>
				<span class="country-name">#{showuser.country}</span>
				<span class="postal-code">#{showuser.postcode}</span>
				<span class="locality">#{showuser.city}</span>
		</c:if>
		
		<div class="tel" style="display: none">
		<c:if test="#{showuser.telephonePublic or views$secured$user$userprofile.buddy}">
			<span class="type">home</span>
			<span class="value">#{showuser.telephone}</span> 
			
		</c:if>
		</div>
		
		<div class="tel" style="display: none">
		<c:if test="#{showuser.telephonePublic or views$secured$user$userprofile.buddy}">
			<span class="type">cell</span>
			<span class="value">#{showuser.mobile}</span>
		</c:if>
		</div>
		
		<c:if test="#{showuser.profilePersonalPublic or views$secured$user$userprofile.buddy}">
			<div class="bday">#{showuser.birthday}</div>
		</c:if>
		
		<c:if test="#{showuser.emailPublic or views$secured$user$userprofile.buddy}">
			<div class="email">#{showuser.email}</div>
		</c:if>
		</span>
	</address>


		
			
		<div class="content_normal">
	
			<h:panelGrid columns="3" border="0" columnClasses="col_post_commands,col_max_left,col_max_left">
	
				<h:panelGroup id="userimage">
					<div class="userimage">
						<c:if test="#{not empty showuser.imageId}">
							<h:graphicImage styleClass="userphoto"
								value="/files?fileid=#{showuser.imageId}"
								alt="#{showuser.title} #{showuser.firstName} #{showuser.lastName}"
								title="#{showuser.title} #{showuser.firstName} #{showuser.lastName}" />
						</c:if>
						<c:if test="#{empty showuser.imageId}">
							<h:graphicImage styleClass="userphoto"
								value="/images/icons/no_pic.gif" 
								alt="#{msg.user_profile_no_image}"
								title="#{msg.user_profile_no_image}" />
						</c:if>
					</div>
				</h:panelGroup>
				<h:panelGroup>
				<c:if test="#{views$secured$user$userprofile.ownProfile}">
				<p class="content_font_normal">
				#{msg.user_profile_text}
				</p></c:if>
				</h:panelGroup>
				<h:outputText value="" />
		
			
				<c:if test="#{(showuser.addressPublic or views$secured$user$userprofile.buddy) and(
							not empty showuser.country) or
							showuser.emailPublic or
							showuser.profileContactPublic and(
							not empty showuser.skype or
							not empty showuser.icq or
							not empty showuser.msn) or
							showuser.telephonePublic and(
							not empty showuser.telephone or 
							not empty showuser.mobile)}">
					<h:outputText styleClass="profile_header"
						value="#{msg.profile_address_header}" />
					<h:outputText value="" />
					<h:outputText value="" />	
				</c:if>

				<c:if test="#{showuser.addressPublic or views$secured$user$userprofile.buddy}">
					<c:if test="#{not empty showuser.address}">
						<h:outputText value="#{msg.user_contact_address}:" styleClass="#{((not showuser.addressPublic) and (views$secured$user$userprofile.ownProfile))? 'profile-not-visible' : 'profile-visible'}"/> 
						<h:outputText value="#{showuser.address}" styleClass="#{((not showuser.addressPublic) and (views$secured$user$userprofile.ownProfile))? 'profile-not-visible' : 'profile-visible'}"/>
						<h:outputText value="" />
					</c:if>
					<c:if test="#{not empty showuser.postcode}">
						<h:outputText value="#{msg.user_contact_postcode}:" styleClass="#{((not showuser.addressPublic) and (views$secured$user$userprofile.ownProfile))? 'profile-not-visible' : 'profile-visible'}"/>
						<h:outputText value="#{showuser.postcode}" styleClass="#{((not showuser.addressPublic) and (views$secured$user$userprofile.ownProfile))? 'profile-not-visible' : 'profile-visible'}"/>
						<h:outputText value="" />
					</c:if>
					<c:if test="#{not empty showuser.city}">
						<h:outputText value="#{msg.user_contact_city}:" styleClass="#{((not showuser.addressPublic) and (views$secured$user$userprofile.ownProfile))? 'profile-not-visible' : 'profile-visible'}"/>
						<h:outputText value="#{showuser.city}" styleClass="#{((not showuser.addressPublic) and (views$secured$user$userprofile.ownProfile))? 'profile-not-visible' : 'profile-visible'}"/>
						<h:outputText value="" />
					</c:if>
					<c:if test="#{not empty showuser.country}">
						<h:outputText value="#{msg.user_contact_country}:" styleClass="#{((not showuser.addressPublic) and (views$secured$user$userprofile.ownProfile))? 'profile-not-visible' : 'profile-visible'}"/>
						<h:outputText value="#{showuser.country}" styleClass="#{((not showuser.addressPublic) and (views$secured$user$userprofile.ownProfile))? 'profile-not-visible' : 'profile-visible'}"/>
						<h:outputText value="" />
					</c:if>
				</c:if> 
		
				<c:if test="#{showuser.emailPublic or views$secured$user$userprofile.buddy}">
					<h:outputText value="#{msg.user_email}: " styleClass="#{((not showuser.emailPublic) and (views$secured$user$userprofile.ownProfile))? 'profile-not-visible' : 'profile-visible'}"/>
					<h:outputLink value="mailto://#{showuser.email}" styleClass="email">
						<h:outputText value="#{showuser.email}" styleClass="#{((not showuser.emailPublic) and (views$secured$user$userprofile.ownProfile))? 'profile-not-visible' : 'profile-visible'}"/>
					</h:outputLink>
					<h:outputText value="" />
				</c:if> 
				
				<c:if test="#{(showuser.profileContactPublic or views$secured$user$userprofile.buddy) and(
								not empty showuser.skype or
								not empty showuser.icq or
								not empty showuser.msn)}">
					
					<c:if test="#{not empty showuser.skype}">
						<h:outputText value="#{msg.user_contact_skype}: " styleClass="#{((not showuser.profileContactPublic) and (views$secured$user$userprofile.ownProfile))? 'profile-not-visible' : 'profile-visible'}"/>
						<h:outputLink value="skype:#{showuser.skype}" styleClass="email">
							<h:graphicImage value="http://mystatus.skype.com/smallicon/#{showuser.skype}" />
							<h:outputText value=" #{showuser.skype}" styleClass="#{((not showuser.profileContactPublic) and (views$secured$user$userprofile.ownProfile))? 'profile-not-visible' : 'profile-visible'}"/>
						</h:outputLink>
						<h:outputText value="" />
					</c:if> 
					<c:if test="#{not empty showuser.icq}">
						<h:outputText value="#{msg.user_contact_icq}:" styleClass="#{((not showuser.profileContactPublic) and (views$secured$user$userprofile.ownProfile))? 'profile-not-visible' : 'profile-visible'}"/>
						<h:outputText value="#{showuser.icq}" styleClass="#{((not showuser.profileContactPublic) and (views$secured$user$userprofile.ownProfile))? 'profile-not-visible' : 'profile-visible'}"/>
						<h:outputText value="" />
					</c:if> 
					<c:if test="#{not empty showuser.msn}">
						<h:outputText value="#{msg.user_contact_msn}:" styleClass="#{((not showuser.profileContactPublic) and (views$secured$user$userprofile.ownProfile))? 'profile-not-visible' : 'profile-visible'}"/>
						<h:outputText value="#{showuser.msn}" styleClass="#{((not showuser.profileContactPublic) and (views$secured$user$userprofile.ownProfile))? 'profile-not-visible' : 'profile-visible'}"/>
						<h:outputText value="" />
					</c:if> 
				</c:if>
				
				<c:if test="#{(showuser.telephonePublic or views$secured$user$userprofile.buddy) and(
							not empty showuser.telephone or 
							not empty showuser.mobile)}">
					<c:if test="#{not empty showuser.telephone}">
						<h:outputText value="#{msg.user_contact_telephone}:" styleClass="#{((not showuser.telephonePublic) and (views$secured$user$userprofile.ownProfile))? 'profile-not-visible' : 'profile-visible'}"/>
						<h:outputText value="#{showuser.telephone}" styleClass="#{((not showuser.telephonePublic) and (views$secured$user$userprofile.ownProfile))? 'profile-not-visible' : 'profile-visible'}"/>
						<h:outputText value="" />
					</c:if>
					<c:if test="#{not empty showuser.mobile}">
						<h:outputText value="#{msg.user_contact_mobile}:" styleClass="#{((not showuser.telephonePublic) and (views$secured$user$userprofile.ownProfile))? 'profile-not-visible' : 'profile-visible'}"/>
						<h:outputText value="#{showuser.mobile}" styleClass="#{((not showuser.telephonePublic) and (views$secured$user$userprofile.ownProfile))? 'profile-not-visible' : 'profile-visible'}"/>
						<h:outputText value="" />
					</c:if>
				</c:if>
				
				<c:if test="#{(showuser.profilePersonalPublic or views$secured$user$userprofile.buddy) and( 
							not empty showuser.birthday or
							not empty showuser.searching or
							not empty showuser.providing or
							not empty showuser.interests or
							not empty showuser.portrait)}">
					<h:outputText styleClass="profile_header"
						value="#{msg.profile_personal_header}" />
					<h:outputText value=""/>
					<h:outputText value="" />
					<c:if test="#{not empty showuser.birthday}">
						<h:outputText value="#{msg.user_contact_birthday}: " styleClass="#{((not showuser.profilePersonalPublic) and (views$secured$user$userprofile.ownProfile))? 'profile-not-visible' : 'profile-visible'}"/>
						<h:outputText value="#{showuser.birthday}" styleClass="#{((not showuser.profilePersonalPublic) and (views$secured$user$userprofile.ownProfile))? 'profile-not-visible' : 'profile-visible'}">
							<f:convertDateTime pattern="dd.MM.yyyy" />
						</h:outputText>
						<h:outputText value="" />
					</c:if>
					<c:if test="#{not empty showuser.searching}">
						<h:outputText value="#{msg.user_contact_searching}:" styleClass="#{((not showuser.profilePersonalPublic) and (views$secured$user$userprofile.ownProfile))? 'profile-not-visible' : 'profile-visible'}"/>
						<h:outputText value="#{showuser.searching}" styleClass="#{((not showuser.profilePersonalPublic) and (views$secured$user$userprofile.ownProfile))? 'profile-not-visible' : 'profile-visible'}"/>
						<h:outputText value="" />
					</c:if>
					<c:if test="#{not empty showuser.providing}">
						<h:outputText value="#{msg.user_contact_providing}:" styleClass="#{((not showuser.profilePersonalPublic) and (views$secured$user$userprofile.ownProfile))? 'profile-not-visible' : 'profile-visible'}"/>
					 	<h:outputText value="#{showuser.providing}" styleClass="#{((not showuser.profilePersonalPublic) and (views$secured$user$userprofile.ownProfile))? 'profile-not-visible' : 'profile-visible'}"/>
					 	<h:outputText value="" />
					</c:if>
					<c:if test="#{not empty showuser.interests}">
						<h:outputText value="#{msg.user_contact_interests}:" styleClass="#{((not showuser.profilePersonalPublic) and (views$secured$user$userprofile.ownProfile))? 'profile-not-visible' : 'profile-visible'}"/>
						<h:outputText value="#{showuser.interests}" styleClass="#{((not showuser.profilePersonalPublic) and (views$secured$user$userprofile.ownProfile))? 'profile-not-visible' : 'profile-visible'}"/>
						<h:outputText value="" />
					</c:if>
					<c:if test="#{not empty showuser.portrait}">
					<c:if test="#{showuser.profilePersonalPublic or views$secured$user$userprofile.buddy}">
					<h:outputText value="#{msg.user_contact_portrait}:" styleClass="#{((not showuser.profilePersonalPublic) and (views$secured$user$userprofile.ownProfile))? 'profile-not-visible' : 'profile-visible'}"/>
					<h:outputText value="#{showuser.portrait}" escape="false" styleClass="#{((not showuser.profilePersonalPublic) and (views$secured$user$userprofile.ownProfile))? 'profile-not-visible' : 'profile-visible'}"/>
					<h:outputText value="" />
					</c:if></c:if>
				</c:if>
				<c:if test="#{(showuser.profileUniPublic or views$secured$user$userprofile.buddy) and( 
								not empty showuser.studies or 
								not empty showuser.ageGroup)}">
					<h:outputText styleClass="profile_header"
						value="#{msg.profile_uni_header}" />
					<h:outputText value="" />
					<h:outputText value="" />	
					<c:if test="#{not empty showuser.studies}">
						<h:outputText value="#{msg.user_profile_studies}:" styleClass="#{((not showuser.profileUniPublic) and (views$secured$user$userprofile.ownProfile))? 'profile-not-visible' : 'profile-visible'}"/>
						<h:outputText value="#{showuser.studies}" styleClass="#{((not showuser.profileUniPublic) and (views$secured$user$userprofile.ownProfile))? 'profile-not-visible' : 'profile-visible'}"/>
						<h:outputText value="" />
					</c:if>
					<c:if test="#{not empty showuser.ageGroup}">
						<h:outputText value="#{msg.user_profile_agegroup}:" styleClass="#{((not showuser.profileUniPublic) and (views$secured$user$userprofile.ownProfile))? 'profile-not-visible' : 'profile-visible'}"/>
						<h:outputText value="#{showuser.ageGroup}" styleClass="#{((not showuser.profileUniPublic) and (views$secured$user$userprofile.ownProfile))? 'profile-not-visible' : 'profile-visible'}"/>
						<h:outputText value="" />
					</c:if>
				</c:if>

				
			</h:panelGrid>
				
		</div>
	
			<div class="footer_normal_left_bg" />
			<div class="footer_normal_right_bg" />
			<div class="footer_normal">
				<c:if test="${!empty footer}">
					<p class="${footerClass}">${footer}</p>
				</c:if>
			</div>
		</div>
	</div>
</ui:composition>