<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:o="http://www.openuss.org/jsfcontrols"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:t="http://myfaces.apache.org/tomahawk"
    xmlns:c="http://java.sun.com/jstl/core"
    xmlns:fck="http://www.fck-faces.org/fck-faces"
	xmlns:ts="http://myfaces.apache.org/sandbox">

	<div class="content_box">
	     <div class="content_box">
		    <div class="header_normal_left_bg"/>
    		<div class="header_normal_right_bg"/>
		    <div class="header_normal">
		    	<p class="header_font_normal">
					<h:outputFormat value="#{msg.user_profile_preview_heading}">
						<f:param value="#{showuser.contact.firstName}" />
						<f:param value="#{showuser.contact.lastName}" />
						<f:param value="#{showuser.username}" />
					</h:outputFormat>
				</p>
	       </div>
	       <div class="content_normal">
				<div class="userimage">
					<c:if test="#{not empty showuser.imageId}">
						<h:graphicImage styleClass="userphoto"
							renderer="${not empty showuser.imageId}"
							value="/files?fileid=#{showuser.imageId}"
							alt="#{showuser.contact.firstName} #{showuser.contact.lastName}"
							title="#{showuser.contact.firstName} #{showuser.contact.lastName}"/> 
					</c:if>
					<c:if test="#{empty showuser.imageId}">
						<h:graphicImage 
							styleClass="userphoto" 
							value="/images/icons/no_pic.gif" 
							alt="#{msg.user_profile_no_image}" 
							title="#{msg.user_profile_no_image}"/>
					</c:if>
				</div>
				<div class="usercontact">
					<ul>
						<c:if test="#{showuser.profile.profileContactPublic}">
						<br /><h:outputText value="#{msg.profile_address_header}" styleClass="header_font_normal"/><br />
						<c:if test="#{showuser.profile.addressPublic}">
						<c:if test="#{not empty showuser.contact.address}">
						#{msg.user_contact_address}: #{showuser.contact.address}<br />
						</c:if>
						<c:if test="#{not empty showuser.contact.postcode}">
						#{msg.user_contact_postcode}: #{showuser.contact.postcode}<br />
						</c:if> 
						<c:if test="#{not empty showuser.contact.city}">
						#{msg.user_contact_city}: #{showuser.contact.city}<br />
						</c:if> 
						<c:if test="#{not empty showuser.contact.country}">
						#{msg.user_contact_country}: #{showuser.contact.country}<br />
						</c:if> 
						</c:if>
						<c:if test="#{showuser.profile.emailPublic}">
						#{msg.user_email}:  <h:outputLink value="mailto://#{showuser.email}" styleClass="email">#{showuser.email}</h:outputLink><br/>
						</c:if>
						<c:if test="#{not empty showuser.contact.skype}">
						#{msg.user_contact_skype}: <h:outputLink value="skype:#{showuser.contact.skype}" styleClass="email"><img src="http://mystatus.skype.com/smallicon/#{showuser.contact.skype}"/> #{showuser.contact.skype}</h:outputLink><br />
						</c:if>
						<c:if test="#{not empty showuser.contact.icq}">
						#{msg.user_contact_icq}: #{showuser.contact.icq}<br /><!-- insert image here -->
						</c:if>
						<c:if test="#{not empty showuser.contact.msn}">
						#{msg.user_contact_msn}: #{showuser.contact.msn}<br />
						</c:if>
						<c:if test="#{showuser.profile.telephonePublic}">
						<c:if test="#{not empty showuser.contact.telephone}">
						#{msg.user_contact_telephone}: #{showuser.contact.telephone}<br />
						</c:if>
						<c:if test="#{not empty showuser.contact.mobile}">
						#{msg.user_contact_mobile}: #{showuser.contact.mobile}<br />
						</c:if>
						</c:if>
						</c:if>
						<c:if test="#{showuser.profile.profilePersonalPublic}">
						<br /><h:outputText value="#{msg.profile_personal_header}" styleClass="header_font_normal"/><br />
						<c:if test="#{not empty showuser.contact.birthday}">
						#{msg.user_contact_birthday}: #{showuser.contact.birthday}<br />
						</c:if>
						<c:if test="#{not empty showuser.contact.searching}">
						#{msg.user_contact_searching}: #{showuser.contact.searching}<br />
						</c:if>
						<c:if test="#{not empty showuser.contact.providing}">
						#{msg.user_contact_providing}: #{showuser.contact.providing}<br />
						</c:if>
						<c:if test="#{not empty showuser.contact.interests}">
						#{msg.user_contact_interests}: #{showuser.contact.interests}<br />
						</c:if>
						</c:if>
						<c:if test="#{showuser.profile.profileUniPublic}">
						<br /><h:outputText value="#{msg.profile_uni_header}" styleClass="header_font_normal"/><br />
						<c:if test="#{not empty showuser.profile.studies}">
						#{msg.user_profile_studies}: #{showuser.profile.studies}<br />
						</c:if>
						<c:if test="#{not empty showuser.profile.ageGroup}">
						#{msg.user_profile_agegroup}: #{showuser.profile.ageGroup}<br />
						</c:if>
						</c:if><br />
						<h:outputText value="#{showuser.profile.portrait}" escape="false"/>
					</ul>
					
				</div>
		   </div>
	       <div class="footer_normal_left_bg"/>
	       <div class="footer_normal_right_bg"/>
	       <div class="footer_normal">
	       	  <c:if test="${!empty footer}">
	       	  	<p class="${footerClass}">${footer}</p>
	       	  </c:if>
	       </div>
	     </div>
    </div>
</ui:composition>