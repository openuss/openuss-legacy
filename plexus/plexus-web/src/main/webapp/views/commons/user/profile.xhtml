<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<ui:composition xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:o="http://www.openuss.org/jsfcontrols"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:t="http://myfaces.apache.org/tomahawk"
	xmlns:c="http://java.sun.com/jstl/core"
	xmlns:fck="http://www.fck-faces.org/fck-faces"
	xmlns:ts="http://myfaces.apache.org/sandbox">

	<div class="content_box">
		<div class="content_box">
			<div class="header_normal_left_bg"/>
    		<div class="header_normal_right_bg"/>
		    <div class="header_normal">
				<p class="header_font_normal">
					<h:outputFormat value="#{msg.user_profile_preview_heading}">
						<f:param value="#{showuser.contact.firstName}" />	
						<f:param value="#{showuser.contact.lastName}" />
						<f:param value="#{showuser.username}" />
					</h:outputFormat>
				</p>
			</div>


	<address class="vcard" style="display: none">
	<span class="fn" style="display: none">
		<c:if test="#{showuser.profile.profileContactPublic or views$secured$user$userprofile.buddy}">
			<span class="family-name">#{showuser.contact.lastName}</span>
			<span class="given-name">#{showuser.contact.firstName}</span>
			<span class="adr type=home" style="display: none"></span>
		</c:if>
		</span>
		<span class="adr home" style="display: none">
		<c:if test="#{showuser.profile.addressPublic or views$secured$user$userprofile.buddy}">
				<span class="street-address">#{showuser.contact.address}</span>
				<span class="country-name">#{showuser.contact.country}</span>
				<span class="postal-code">#{showuser.contact.postcode}</span>
				<span class="locality">#{showuser.contact.city}</span>
		</c:if>
		
		<div class="tel" style="display: none">
		<c:if test="#{showuser.profile.telephonePublic or views$secured$user$userprofile.buddy}">
			<span class="type">home</span>
			<span class="value">#{showuser.contact.telephone}</span> 
			
		</c:if>
		</div>
		
		<div class="tel" style="display: none">
		<c:if test="#{showuser.profile.telephonePublic or views$secured$user$userprofile.buddy}">
			<span class="type">cell</span>
			<span class="value">#{showuser.contact.mobile}</span>
		</c:if>
		</div>
		
		<c:if test="#{showuser.profile.profilePersonalPublic or views$secured$user$userprofile.buddy}">
			<div class="bday">#{showuser.contact.birthday}</div>
		</c:if>
		
		<c:if test="#{showuser.profile.emailPublic or views$secured$user$userprofile.buddy}">
			<div class="email">#{showuser.email}</div>
		</c:if>
		</span>
	</address>


		
			
		<div class="content_normal">
	
			<h:panelGrid columns="3" border="0" columnClasses="col_post_commands,col_max_left,col_max_left">
	
				<h:panelGroup id="userimage">
					<div class="userimage">
						<c:if test="#{not empty showuser.imageId}">
							<h:graphicImage styleClass="userphoto"
								value="/files?fileid=#{showuser.imageId}"
								alt="#{showuser.contact.title} #{showuser.contact.firstName} #{showuser.contact.lastName}"
								title="#{showuser.contact.title} #{showuser.contact.firstName} #{showuser.contact.lastName}" />
						</c:if>
						<c:if test="#{empty showuser.imageId}">
							<h:graphicImage styleClass="userphoto"
								value="/images/icons/no_pic.gif" 
								alt="#{msg.user_profile_no_image}"
								title="#{msg.user_profile_no_image}" />
						</c:if>
					</div>
				</h:panelGroup>
				<h:panelGroup>
				<c:if test="#{views$secured$user$userprofile.ownProfile}">
				<p class="content_font_normal">
				#{msg.user_profile_text}
				</p></c:if>
				</h:panelGroup>
				<h:outputText value="" />
		
			
				<c:if test="#{(showuser.profile.addressPublic or views$secured$user$userprofile.buddy) and(
							not empty showuser.contact.country) or
							showuser.profile.emailPublic or
							showuser.profile.profileContactPublic and(
							not empty showuser.contact.skype or
							not empty showuser.contact.icq or
							not empty showuser.contact.msn) or
							showuser.profile.telephonePublic and(
							not empty showuser.contact.telephone or 
							not empty showuser.contact.mobile)}">
					<h:outputText styleClass="profile_header"
						value="#{msg.profile_address_header}" />
					<h:outputText value="" />
					<h:outputText value="" />	
				</c:if>

				<c:if test="#{showuser.profile.addressPublic or views$secured$user$userprofile.buddy}">
					<c:if test="#{not empty showuser.contact.address}">
						<h:outputText value="#{msg.user_contact_address}:" styleClass="#{((not showuser.profile.addressPublic) and (views$secured$user$userprofile.ownProfile))? 'profile-not-visible' : 'profile-visible'}"/> 
						<h:outputText value="#{showuser.contact.address}" styleClass="#{((not showuser.profile.addressPublic) and (views$secured$user$userprofile.ownProfile))? 'profile-not-visible' : 'profile-visible'}"/>
						<h:outputText value="" />
					</c:if>
					<c:if test="#{not empty showuser.contact.postcode}">
						<h:outputText value="#{msg.user_contact_postcode}:" styleClass="#{((not showuser.profile.addressPublic) and (views$secured$user$userprofile.ownProfile))? 'profile-not-visible' : 'profile-visible'}"/>
						<h:outputText value="#{showuser.contact.postcode}" styleClass="#{((not showuser.profile.addressPublic) and (views$secured$user$userprofile.ownProfile))? 'profile-not-visible' : 'profile-visible'}"/>
						<h:outputText value="" />
					</c:if>
					<c:if test="#{not empty showuser.contact.city}">
						<h:outputText value="#{msg.user_contact_city}:" styleClass="#{((not showuser.profile.addressPublic) and (views$secured$user$userprofile.ownProfile))? 'profile-not-visible' : 'profile-visible'}"/>
						<h:outputText value="#{showuser.contact.city}" styleClass="#{((not showuser.profile.addressPublic) and (views$secured$user$userprofile.ownProfile))? 'profile-not-visible' : 'profile-visible'}"/>
						<h:outputText value="" />
					</c:if>
					<c:if test="#{not empty showuser.contact.country}">
						<h:outputText value="#{msg.user_contact_country}:" styleClass="#{((not showuser.profile.addressPublic) and (views$secured$user$userprofile.ownProfile))? 'profile-not-visible' : 'profile-visible'}"/>
						<h:outputText value="#{showuser.contact.country}" styleClass="#{((not showuser.profile.addressPublic) and (views$secured$user$userprofile.ownProfile))? 'profile-not-visible' : 'profile-visible'}"/>
						<h:outputText value="" />
					</c:if>
				</c:if> 
		
				<c:if test="#{showuser.profile.emailPublic or views$secured$user$userprofile.buddy}">
					<h:outputText value="#{msg.user_email}: " styleClass="#{((not showuser.profile.emailPublic) and (views$secured$user$userprofile.ownProfile))? 'profile-not-visible' : 'profile-visible'}"/>
					<h:outputLink value="mailto://#{showuser.email}" styleClass="email">
						<h:outputText value="#{showuser.email}" styleClass="#{((not showuser.profile.emailPublic) and (views$secured$user$userprofile.ownProfile))? 'profile-not-visible' : 'profile-visible'}"/>
					</h:outputLink>
					<h:outputText value="" />
				</c:if> 
				
				<c:if test="#{(showuser.profile.profileContactPublic or views$secured$user$userprofile.buddy) and(
								not empty showuser.contact.skype or
								not empty showuser.contact.icq or
								not empty showuser.contact.msn)}">
					
					<c:if test="#{not empty showuser.contact.skype}">
						<h:outputText value="#{msg.user_contact_skype}: " styleClass="#{((not showuser.profile.profileContactPublic) and (views$secured$user$userprofile.ownProfile))? 'profile-not-visible' : 'profile-visible'}"/>
						<h:outputLink value="skype:#{showuser.contact.skype}" styleClass="email">
							<h:graphicImage value="http://mystatus.skype.com/smallicon/#{showuser.contact.skype}" />
							<h:outputText value=" #{showuser.contact.skype}" styleClass="#{((not showuser.profile.profileContactPublic) and (views$secured$user$userprofile.ownProfile))? 'profile-not-visible' : 'profile-visible'}"/>
						</h:outputLink>
						<h:outputText value="" />
					</c:if> 
					<c:if test="#{not empty showuser.contact.icq}">
						<h:outputText value="#{msg.user_contact_icq}:" styleClass="#{((not showuser.profile.profileContactPublic) and (views$secured$user$userprofile.ownProfile))? 'profile-not-visible' : 'profile-visible'}"/>
						<h:outputText value="#{showuser.contact.icq}" styleClass="#{((not showuser.profile.profileContactPublic) and (views$secured$user$userprofile.ownProfile))? 'profile-not-visible' : 'profile-visible'}"/>
						<h:outputText value="" />
					</c:if> 
					<c:if test="#{not empty showuser.contact.msn}">
						<h:outputText value="#{msg.user_contact_msn}:" styleClass="#{((not showuser.profile.profileContactPublic) and (views$secured$user$userprofile.ownProfile))? 'profile-not-visible' : 'profile-visible'}"/>
						<h:outputText value="#{showuser.contact.msn}" styleClass="#{((not showuser.profile.profileContactPublic) and (views$secured$user$userprofile.ownProfile))? 'profile-not-visible' : 'profile-visible'}"/>
						<h:outputText value="" />
					</c:if> 
				</c:if>
				
				<c:if test="#{(showuser.profile.telephonePublic or views$secured$user$userprofile.buddy) and(
							not empty showuser.contact.telephone or 
							not empty showuser.contact.mobile)}">
					<c:if test="#{not empty showuser.contact.telephone}">
						<h:outputText value="#{msg.user_contact_telephone}:" styleClass="#{((not showuser.profile.telephonePublic) and (views$secured$user$userprofile.ownProfile))? 'profile-not-visible' : 'profile-visible'}"/>
						<h:outputText value="#{showuser.contact.telephone}" styleClass="#{((not showuser.profile.telephonePublic) and (views$secured$user$userprofile.ownProfile))? 'profile-not-visible' : 'profile-visible'}"/>
						<h:outputText value="" />
					</c:if>
					<c:if test="#{not empty showuser.contact.mobile}">
						<h:outputText value="#{msg.user_contact_mobile}:" styleClass="#{((not showuser.profile.telephonePublic) and (views$secured$user$userprofile.ownProfile))? 'profile-not-visible' : 'profile-visible'}"/>
						<h:outputText value="#{showuser.contact.mobile}" styleClass="#{((not showuser.profile.telephonePublic) and (views$secured$user$userprofile.ownProfile))? 'profile-not-visible' : 'profile-visible'}"/>
						<h:outputText value="" />
					</c:if>
				</c:if>
				
				<c:if test="#{(showuser.profile.profilePersonalPublic or views$secured$user$userprofile.buddy) and( 
							not empty showuser.contact.birthday or
							not empty showuser.contact.searching or
							not empty showuser.contact.providing or
							not empty showuser.contact.interests)}">
					<h:outputText styleClass="profile_header"
						value="#{msg.profile_personal_header}" />
					<h:outputText value=""/>
					<h:outputText value="" />
					<c:if test="#{not empty showuser.contact.birthday}">
						<h:outputText value="#{msg.user_contact_birthday}: " styleClass="#{((not showuser.profile.profilePersonalPublic) and (views$secured$user$userprofile.ownProfile))? 'profile-not-visible' : 'profile-visible'}"/>
						<h:outputText value="#{showuser.contact.birthday}" styleClass="#{((not showuser.profile.profilePersonalPublic) and (views$secured$user$userprofile.ownProfile))? 'profile-not-visible' : 'profile-visible'}">
							<f:convertDateTime pattern="dd.MM.yyyy" />
						</h:outputText>
						<h:outputText value="" />
					</c:if>
					<c:if test="#{not empty showuser.contact.searching}">
						<h:outputText value="#{msg.user_contact_searching}:" styleClass="#{((not showuser.profile.profilePersonalPublic) and (views$secured$user$userprofile.ownProfile))? 'profile-not-visible' : 'profile-visible'}"/>
						<h:outputText value="#{showuser.contact.searching}" styleClass="#{((not showuser.profile.profilePersonalPublic) and (views$secured$user$userprofile.ownProfile))? 'profile-not-visible' : 'profile-visible'}"/>
						<h:outputText value="" />
					</c:if>
					<c:if test="#{not empty showuser.contact.providing}">
						<h:outputText value="#{msg.user_contact_providing}:" styleClass="#{((not showuser.profile.profilePersonalPublic) and (views$secured$user$userprofile.ownProfile))? 'profile-not-visible' : 'profile-visible'}"/>
					 	<h:outputText value="#{showuser.contact.providing}" styleClass="#{((not showuser.profile.profilePersonalPublic) and (views$secured$user$userprofile.ownProfile))? 'profile-not-visible' : 'profile-visible'}"/>
					 	<h:outputText value="" />
					</c:if>
					<c:if test="#{not empty showuser.contact.interests}">
						<h:outputText value="#{msg.user_contact_interests}:" styleClass="#{((not showuser.profile.profilePersonalPublic) and (views$secured$user$userprofile.ownProfile))? 'profile-not-visible' : 'profile-visible'}"/>
						<h:outputText value="#{showuser.contact.interests}" styleClass="#{((not showuser.profile.profilePersonalPublic) and (views$secured$user$userprofile.ownProfile))? 'profile-not-visible' : 'profile-visible'}"/>
						<h:outputText value="" />
					</c:if>
					<c:if test="#{showuser.profile.profilePersonalPublic or views$secured$user$userprofile.buddy}">
					<h:outputText value="#{msg.user_contact_portrait}:" styleClass="#{((not showuser.profile.profilePersonalPublic) and (views$secured$user$userprofile.ownProfile))? 'profile-not-visible' : 'profile-visible'}"/>
					<h:outputText value="#{showuser.profile.portrait}" escape="false" styleClass="#{((not showuser.profile.profilePersonalPublic) and (views$secured$user$userprofile.ownProfile))? 'profile-not-visible' : 'profile-visible'}"/>
					<h:outputText value="" />
					</c:if>
				</c:if>
				<c:if test="#{(showuser.profile.profileUniPublic or views$secured$user$userprofile.buddy) and( 
								not empty showuser.profile.studies or 
								not empty showuser.profile.ageGroup)}">
					<h:outputText styleClass="profile_header"
						value="#{msg.profile_uni_header}" />
					<h:outputText value="" />
					<h:outputText value="" />	
					<c:if test="#{not empty showuser.profile.studies}">
						<h:outputText value="#{msg.user_profile_studies}:" styleClass="#{((not showuser.profile.profileUniPublic) and (views$secured$user$userprofile.ownProfile))? 'profile-not-visible' : 'profile-visible'}"/>
						<h:outputText value="#{showuser.profile.studies}" styleClass="#{((not showuser.profile.profileUniPublic) and (views$secured$user$userprofile.ownProfile))? 'profile-not-visible' : 'profile-visible'}"/>
						<h:outputText value="" />
					</c:if>
					<c:if test="#{not empty showuser.profile.ageGroup}">
						<h:outputText value="#{msg.user_profile_agegroup}:" styleClass="#{((not showuser.profile.profileUniPublic) and (views$secured$user$userprofile.ownProfile))? 'profile-not-visible' : 'profile-visible'}"/>
						<h:outputText value="#{showuser.profile.ageGroup}" styleClass="#{((not showuser.profile.profileUniPublic) and (views$secured$user$userprofile.ownProfile))? 'profile-not-visible' : 'profile-visible'}"/>
						<h:outputText value="" />
					</c:if>
				</c:if>

				
			</h:panelGrid>
				
		</div>
	
			<div class="footer_normal_left_bg" />
			<div class="footer_normal_right_bg" />
			<div class="footer_normal">
				<c:if test="${!empty footer}">
					<p class="${footerClass}">${footer}</p>
				</c:if>
			</div>
		</div>
	</div>
</ui:composition>