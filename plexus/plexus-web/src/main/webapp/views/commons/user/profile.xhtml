<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<ui:composition xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:o="http://www.openuss.org/jsfcontrols"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:t="http://myfaces.apache.org/tomahawk"
	xmlns:c="http://java.sun.com/jstl/core"
	xmlns:fck="http://www.fck-faces.org/fck-faces"
	xmlns:ts="http://myfaces.apache.org/sandbox">


	<div class="content_box">
		<div class="content_box">
			<div class="header_normal_left_bg"/>
    		<div class="header_normal_right_bg"/>
		    <div class="header_normal">
				<p class="header_font_normal">
					<h:outputFormat value="#{msg.user_profile_preview_heading}">
						<f:param value="#{showuser.contact.firstName}" />	
						<f:param value="#{showuser.contact.lastName}" />
						<f:param value="#{showuser.username}" />
					</h:outputFormat>
				</p>
			</div>
			
		<div class="content_normal">
	
			<h:panelGrid columns="2">
	
				<h:panelGroup id="userimage">
					<div class="userimage">
						<c:if test="#{not empty showuser.imageId}">
							<h:graphicImage styleClass="userphoto"
								value="/files?fileid=#{showuser.imageId}"
								alt="#{showuser.contact.firstName} #{showuser.contact.lastName}"
								title="#{showuser.contact.firstName} #{showuser.contact.lastName}" />
						</c:if>
						<c:if test="#{empty showuser.imageId}">
							<h:graphicImage styleClass="userphoto"
								value="/images/icons/no_pic.gif" 
								alt="#{msg.user_profile_no_image}"
								title="#{msg.user_profile_no_image}" />
						</c:if>
					</div>
				</h:panelGroup>
				<h:outputText value="" />		

				<c:if test="#{showuser.profile.profileContactPublic}">
					<h:outputText styleClass="profile_header"
						value="#{msg.profile_address_header}" />
					<h:outputText value="" />	
				</c:if>

				<c:if test="#{showuser.profile.addressPublic}">
					<c:if test="#{not empty showuser.contact.address}">
						<h:outputText value="#{msg.user_contact_address}:" /> 
						<h:outputText value="#{showuser.contact.address}" />
					</c:if>
					<c:if test="#{not empty showuser.contact.postcode}">
						<h:outputText value="#{msg.user_contact_postcode}:" />
						<h:outputText value="#{showuser.contact.postcode}" />
					</c:if>
					<c:if test="#{not empty showuser.contact.city}">
						<h:outputText value="#{msg.user_contact_city}:" />
						<h:outputText value="#{showuser.contact.city}" />
					</c:if>
					<c:if test="#{not empty showuser.contact.country}">
						<h:outputText value="#{msg.user_contact_country}:" />
						<h:outputText value="#{showuser.contact.country}" />
					</c:if>
				</c:if> 
		
				<c:if test="#{showuser.profile.emailPublic}">
					<h:outputText value="#{msg.user_email}: " />
					<h:outputLink value="mailto://#{showuser.email}" styleClass="email">
						<h:outputText value="#{showuser.email}" />
					</h:outputLink>
				</c:if> 
				
				<c:if test="#{showuser.profile.profileContactPublic}">
					<c:if test="#{not empty showuser.contact.skype}">
						<h:outputText value="#{msg.user_contact_skype}: " />
						<h:outputLink value="skype:#{showuser.contact.skype}" styleClass="email">
							<h:graphicImage value="http://mystatus.skype.com/smallicon/#{showuser.contact.skype}" />
							<h:outputText value=" #{showuser.contact.skype}" />
						</h:outputLink>
					</c:if> 
					<c:if test="#{not empty showuser.contact.icq}">
						<h:outputText value="#{msg.user_contact_icq}:" />
						<h:outputText value="#{showuser.contact.icq}" />
					</c:if> 
					<c:if test="#{not empty showuser.contact.msn}">
						<h:outputText value="#{msg.user_contact_msn}:" />
						<h:outputText value="#{showuser.contact.msn}" />
					</c:if> 
				</c:if>
				
				<c:if test="#{showuser.profile.telephonePublic}">
					<c:if test="#{not empty showuser.contact.telephone}">
						<h:outputText value="#{msg.user_contact_telephone}:" />
						<h:outputText value="#{showuser.contact.telephone}" />
					</c:if>
					<c:if test="#{not empty showuser.contact.mobile}">
						<h:outputText value="#{msg.user_contact_mobile}:" />
						<h:outputText value="#{showuser.contact.mobile}" />
					</c:if>
				</c:if>
				
				<c:if test="#{showuser.profile.profilePersonalPublic}">
					<h:outputText styleClass="profile_header"
						value="#{msg.profile_personal_header}" />
					<h:outputText value=""/>
					<c:if test="#{not empty showuser.contact.birthday}">
						<h:outputText value="#{msg.user_contact_birthday}: " />
						<h:outputText value="#{showuser.contact.birthday}">
							<f:convertDateTime pattern="dd.MM.yyyy" />
						</h:outputText>
					</c:if>
					<c:if test="#{not empty showuser.contact.searching}">
						<h:outputText value="#{msg.user_contact_searching}:" />
						<h:outputText value="#{showuser.contact.searching}" />
					</c:if>
					<c:if test="#{not empty showuser.contact.providing}">
						<h:outputText value="#{msg.user_contact_providing}:" />
					 	<h:outputText value="#{showuser.contact.providing}" />
					</c:if>
					<c:if test="#{not empty showuser.contact.interests}">
						<h:outputText value="#{msg.user_contact_interests}:" />
						<h:outputText value="#{showuser.contact.interests}" />
					</c:if>
				</c:if>
		
				<c:if test="#{showuser.profile.profileUniPublic}">
					<h:outputText styleClass="profile_header"
						value="#{msg.profile_uni_header}" />
					<h:outputText value="" />	
					<c:if test="#{not empty showuser.profile.studies}">
						<h:outputText value="#{msg.user_profile_studies}:" />
						<h:outputText value="#{showuser.profile.studies}" />
					</c:if>
					<c:if test="#{not empty showuser.profile.ageGroup}">
						<h:outputText value="#{msg.user_profile_agegroup}:" />
						<h:outputText value="#{showuser.profile.ageGroup}" />
					</c:if>
				</c:if>

				<c:if test="#{showuser.profile.profilePersonalPublic}">
					<h:outputText value="#{showuser.profile.portrait}" escape="false" />
				</c:if>
			
			</h:panelGrid>

		</div>
	
			<div class="footer_normal_left_bg" />
			<div class="footer_normal_right_bg" />
			<div class="footer_normal">
				<c:if test="${!empty footer}">
					<p class="${footerClass}">${footer}</p>
				</c:if>
			</div>
		</div>
	</div>
</ui:composition>