<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:o="http://www.openuss.org/jsfcontrols"
      xmlns:t="http://myfaces.apache.org/tomahawk"
      xmlns:c="http://java.sun.com/jstl/core"
      xmlns:news="http://www.openuss.org/news/jsf"
      xmlns:fck="http://www.fck-faces.org/fck-faces">
      
 	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<title>
			<ui:insert name="title"/>
		</title>
		<link href="../../css/openuss.css" rel="stylesheet" type="text/css" media="screen,screen" />
		<link href="../../css/openuss-typo.css" rel="stylesheet" type="text/css" media="screen" />
	</head>

	<body>
	
	<!-- text above will be ignored -->
	<ui:composition template="/views/layout/dialog.xhtml">
  		<ui:define name="title">
			<h:outputText value="#{msg['migration_navigation_header']}" />
  		</ui:define>
  		<ui:define name="navigation">  			
			<h:form id="loginPortletRegister">
				<o:block label="#{msg['migration_navigation_header']}">
					<ul class="int">
						<li>
							<h:commandLink value="${msg.password_send_link}" action="forgot_password" immediate="true"/>
						</li>
					</ul>
				</o:block>
	   		</h:form>
  		</ui:define>
  		<ui:define name="sidebar">			
			<ui:include src="/views/commons/sidebar/default.xhtml" />
  		</ui:define>
  		<ui:define name="content">
  				<o:block styleClass="warning_box" label="${msg.warning_attention}">
  					<p class="content_font_normal">
	   					<h:outputFormat value="${msg.migration_migrate_hint_sentence1}">
			  				<f:param value="#{centralUserData.authenticationDomainName}"/>
			  			</h:outputFormat><br/>
			  			<h:outputFormat value="${msg.migration_migrate_hint_sentence2}">
			  				<f:param value="#{centralUserData.authenticationDomainName}"/>
			  			</h:outputFormat><br/>
			  			<h:outputFormat value="${msg.migration_migrate_hint_sentence3}">
			  				<f:param value="#{centralUserData.authenticationDomainName}"/>
			  			</h:outputFormat>			  			
			  		</p>	   				
	   			</o:block>  			  		
			<h:form id="migration_login" enctype="multipart/form-data">
	   			<o:block label="#{msg.migration_login_headline}">
		   			<o:input entity="migrationController" property="username" label="#{msg['login_username']}" required="true"/>
		   			<o:input entity="migrationController" property="password" label="#{msg['login_password']}" required="true" type="password"/>		   					
		   		</o:block>
   			 	<o:block>
				    <h:commandButton id="loginButton" action="#{migrationController.performMigration}" value="${msg.login_button}" styleClass="button_login"/>
		 		</o:block>
	 		</h:form> 
			<h:form id="migration_register" enctype="multipart/form-data">
	   			<o:block label="#{msg.migration_register_headline}"><br/>
	   			<h:outputText value="#{msg.migration_register_header}" styleClass="header_font_normal"/> <br/>
	   				<h:outputText value="#{msg.profile_readonly_field_explain}" styleClass="content_font_normal"/>
		   			<o:input entity="centralUserData" property="username" label="${msg['user_username']}" disabled="true">
		   				<f:converter converterId="deleteDomainNameFromUsernameConverter" />
		   			</o:input>
		   			<o:input entity="centralUserData" property="firstName" label="${msg['user_contact_firstname']}" disabled="true"/>
					<o:input entity="centralUserData" property="lastName" label="${msg['user_contact_lastname']}" disabled="true"/>		   			
		   			<o:input entity="centralUserData" property="email" label="${msg['user_email']}" disabled="true"/>		   					   					
		   		</o:block>
   			 	<o:block>
				    <h:commandButton id="migrationRegisterButton" action="migration_centraluser_registration" value="${msg.migration_register_button}" styleClass="button_login"/>
		 		</o:block>
	 		</h:form> 	 		
  		</ui:define>
	</ui:composition>
	<!-- text above will be ignored -->
	</body>
</html>
