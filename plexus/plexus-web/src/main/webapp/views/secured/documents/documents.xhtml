<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:news="http://www.openuss.org/news/jsf"
	xmlns:t="http://myfaces.apache.org/tomahawk"
	xmlns:o="http://www.openuss.org/jsfcontrols"
	xmlns:s="http://www.openuss.org/jsf-security"
	xmlns:c="http://java.sun.com/jstl/core"
    xmlns:plexus="http://www.openuss.org/plexus/jsf">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title><ui:insert name="title" /></title>
<link href="../../css/openuss.css" rel="stylesheet" type="text/css"
	media="screen,screen" />
<!-- css-Datei mit Farbdefinitionen der Rubrik -->
<link href="../../css/openuss-typo.css" rel="stylesheet" type="text/css"
	media="screen" />
</head>

<body>
<!-- text above will be ignored -->
<ui:composition template="/views/layout/layout.xhtml">
	<ui:define name="title">
		<h:outputText
			value="#{msg.enrollment_main_title} - #{enrollment.shortcut}" />
	</ui:define>
	<ui:define name="navigation">
		<ui:include src="/views/commons/navigation/enrollment.xhtml" />
	</ui:define>
	<ui:define name="content">
		<h:form id="documentTableView">
			<o:block label="Aktuelle Position" styleClass="form_box">
				<div class="content_font_normal">
					<t:dataList var="folder" value="#{views$secured$documents$documents.path}">
						/<o:link value="/views/secured/documents/documents.faces" title="#{folder.description}" styleClass="folder_link">
							<f:param value="#{enrollment.id}" name="enrollment" />
							<f:param value="#{folder.id}" name="folder" />
							<h:outputText value="#{folder.name}"/>
						</o:link>				
					</t:dataList>
				</div>
			</o:block>
		
			<ui:include src="documentstable.xhtml" />
			<o:block>
				<plexus:command
					bean="#{views$secured$documents$documents}"
					action="download"
					label="#{msg['documents_main_button_download']}"
					title="#{msg['documents_main_button_download']}"
					styleClass="button_cancel" />
				<s:acl domainObject="#{enrollment}" hasPermission="#{ACL.CREATE}">
					<h:commandButton 
					    id="addZip"
						action="documents_add_zip" 
						value="#{msg.documents_main_button_zip}" 
						title="#{msg.documents_main_button_zip}"
						styleClass="button_cancel"/>
					<h:commandButton 
					    id="newFile"
						action="documents_new_file" 
						value="#{msg.documents_main_button_newfile}" 
						title="#{msg.documents_main_button_newfile}"
						styleClass="button_cancel"/>
					<h:commandButton 
					    id="newFolder"
						action="documents_new_folder" 
						value="#{msg.documents_main_button_newfolder}" 
						title="#{msg.documents_main_button_newfolder}"
						styleClass="button_cancel"/>
				</s:acl>
				<s:acl domainObject="#{enrollment}" hasPermission="#{ACL.DELETE}">
					<plexus:command
						bean="#{views$secured$documents$documents}"
						action="delete"
						label="#{msg['documents_main_button_delete']}"
						title="#{msg['documents_main_button_delete']}"
						styleClass="button_cancel" />
				</s:acl>
			</o:block>
		</h:form>
	</ui:define>
</ui:composition>

<!-- text above will be ignored -->

</body>
</html>
