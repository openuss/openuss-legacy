<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:plexus="http://www.openuss.org/plexus/jsf"
      xmlns:s="http://www.openuss.org/jsf-security"
      xmlns:t="http://myfaces.apache.org/tomahawk"
      xmlns:o="http://www.openuss.org/jsfcontrols"
      xmlns:c="http://java.sun.com/jstl/core"> 
      
    <s:acl domainObject="#{courseInfo}" hasNotPermission="#{ACL.ASSIST}">
	    <plexus:dataTable   
	        id="workspaces" 
	        label="#{msg['collaboration_workspacetable_header']}" 
	        value="views$secured$collaboration$main.dataMappedWorkspaces" 
	        columnClasses="col_max_left, col_commands"
	        var="bean" 
	        rows="20">  
	   
	        <t:column>
	            <plexus:commandSortHeader columnName="name">#{msg.collaboration_colheader_name}</plexus:commandSortHeader>
	            <o:link value="/views/secured/collaboration/workspaceview.faces" title="#{bean.name}">
	                <f:param value="#{bean.id}" name="workspace" />
	                <f:param value="#{courseInfo.id}" name="course"/>
	                <b><h:outputText value="#{bean.name}"/></b>
	            </o:link>
	        </t:column>
	        
	    </plexus:dataTable>
    </s:acl>
    <s:acl domainObject="#{courseInfo}" hasPermission="#{ACL.ASSIST}">
        <plexus:dataTable   
            id="workspaces" 
            label="#{msg['collaboration_workspacetable_header']}" 
            value="views$secured$collaboration$main.dataWorkspaces" 
            columnClasses="col_max_left, col_commands"
            var="bean" 
            rows="20">  
       
            <t:column>
                <plexus:commandSortHeader columnName="name">#{msg.collaboration_colheader_name}</plexus:commandSortHeader>
                <o:link value="/views/secured/collaboration/workspaceview.faces" title="#{bean.name}">
                    <f:param value="#{bean.id}" name="workspace" />
                    <f:param value="#{courseInfo.id}" name="course"/>
                    <b><h:outputText value="#{bean.name}"/></b>
                </o:link>
            </t:column>
            
            <plexus:column header="#{msg.commands_header}">   
                <plexus:command 
                    bean="#{views$secured$collaboration$main}"
                    action="editWorkspace"
                    label="#{msg.collaboration_command_edit_workspace}"
                    title="#{msg.collaboration_command_edit_workspace_hint}"
                    styleClass="icon_edit">
                </plexus:command>
                    
                <plexus:command   
                    bean="#{views$secured$collaboration$main}"
                    action="selectWorkspaceAndConfirmRemove"
                    label="#{msg.collaboration_command_remove_workspace}"
                    title="#{msg.collaboration_command_remove_workspace_hint}"
                    styleClass="icon_remove">
                </plexus:command>
            
            </plexus:column>
            
        </plexus:dataTable>
    </s:acl>
    
</ui:composition>