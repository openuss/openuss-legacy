<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:plexus="http://www.openuss.org/plexus/jsf"
	xmlns:t="http://myfaces.apache.org/tomahawk"
	xmlns:o="http://www.openuss.org/jsfcontrols"
	xmlns:s="http://www.openuss.org/jsf-security"
	xmlns:c="http://java.sun.com/jstl/core">

	<!-- discussion search result page  -->
	<t:div style="#{discussion_search_results.visibilityResultTable}">
	
	<plexus:dataTable
			id="discussions" 
			label="#{msg.search_result_header}" 
			value="views$secured$discussion$discussionsearch.resultProvider" 
			var="result"			
			rows="20">

			<t:column rendered="true" styleClass="col_min_center">
					<img src="#{theme.imagesPath}/icons/viewstate0.png" alt="#{result.title}" title="#{result.title}" />
			</t:column>
			
			<t:column rendered="true" styleClass="col_max_left">					
					<o:link value="/views/secured/discussion/discussionthread.faces" rendered="true">
		       			<f:param name="topic" value="#{result.topicId}"/>
		       			<f:param name="course" value="#{courseInfo.id}"/>
					 	<h:outputText value="#{result.title}" styleClass="header_font_normal"/>					 							 						 
		    		</o:link>
		    </t:column>
			
			<!-- Debug Info below -->
			<t:column rendered="true" styleClass="col_max_left">
				    <h:outputText value="#{msg.discussion_search_score}: " />
					<h:outputText value="#{result.formattedScore}" />
				    <h:outputText value=" | #{msg.discussion_search_title}: " />
					<h:outputText value="#{result.title}" />
				    <h:outputText value=" | #{msg.discussion_search_submitter}: " />
				    <h:outputText value="#{result.submitter}" />
				    <h:outputText value=" | #{msg.discussion_search_modified}: " />
				    <h:outputText value="#{result.modified}" />
			</t:column>
	</plexus:dataTable>
	
	</t:div>

</ui:composition>