<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:o="http://www.openuss.org/jsfcontrols"
	xmlns:t="http://myfaces.apache.org/tomahawk"
	xmlns:c="http://java.sun.com/jstl/core"
	xmlns:news="http://www.openuss.org/news/jsf"
	xmlns:fck="http://www.fck-faces.org/fck-faces"
	xmlns:plexus="http://www.openuss.org/plexus/jsf">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title><ui:insert name="title" /></title>
<link href="../../css/openuss.css" rel="stylesheet" type="text/css"
	media="screen,screen" />
<link href="../../css/openuss-typo.css" rel="stylesheet" type="text/css"
	media="screen" />
</head>

<body>

<!-- text above will be ignored -->
<ui:composition template="/views/layout/layout.xhtml">
	<ui:define name="title">
		<h:outputText value="#{msg['openuss4us_command_groups']}" />
	</ui:define>
	<ui:define name="navigation">
		<ui:include src="/views/commons/navigation/desktop.xhtml" />
	</ui:define>
	<ui:define name="sidebar">
		<ui:include src="/views/commons/sidebar/useroptions.xhtml" />
		<ui:include src="/views/commons/sidebar/default.xhtml" />
	</ui:define>
	<ui:define name="content">
		<h:form id="openuss4us_groups" enctype="multipart/form-data">

			<c:if test="#{not empty views$secured$buddylist$usersearch.users}">
				<plexus:dataTable id="users"
					label="#{msg['openuss4us_group_list_header']}"
					value="views$secured$buddylist$usersearch.data"
					columnClasses="col_max_left, col_max_left, col_max_left, col_commands"
					var="user" rows="20">

						<t:column>
						<plexus:commandSortHeader columnName="userUsername"> #{msg['userInfo_username']}</plexus:commandSortHeader>
						<h:commandLink value=""
							action="#{views$secured$buddylist$usersearch.linkProfile}">
							<h:outputText value="#{user.name}" />
						</h:commandLink>
					</t:column>

					<t:column>
						<plexus:commandSortHeader columnName="userFirstName"> #{msg['userInfo_firstname']}</plexus:commandSortHeader>
						<h:outputText value="#{user.fistName}" />
					</t:column>

					<t:column>
						<plexus:commandSortHeader columnName="userLastName"> #{msg['userInfo_lastname']}</plexus:commandSortHeader>
						<h:outputText value="#{user.lastName}" />
					</t:column>

					<plexus:column header="#{msg.commands_header}">
						<plexus:command bean="#{views$secured$buddylist$usersearch}"
							action="writeMessage" label="#{msg['openuss4us_group_join']}"
							title="#{msg['openuss4us_group_join_hint']}"
							styleClass="icon_sendmessage" />
					</plexus:column>

				</plexus:dataTable>
			</c:if>

			<o:block label="#{msg.openuss4us_find_group_label}"
				styleClass="form_box">
				<p class="content_font_normal">
				<o:input
					entity="views$secured$buddylist$usersearch" 
					property="username"
					label="#{msg.openuss4us_find_user_username}"
					styleClass="field" />
				<o:input
					entity="views$secured$buddylist$usersearch" 
					property="firstname"
					label="#{msg.openuss4us_find_user_firstname}"
					styleClass="field" />
				<o:input
					entity="views$secured$buddylist$usersearch" 
					property="lastname"
					label="#{msg.openuss4us_find_user_lastname}"
					styleClass="field" />
				
				</p>
			</o:block>

			<o:block>
				<h:commandButton id="getUserButton"
					action="#{views$secured$buddylist$usersearch.findUser}"
					value="#{msg.openuss4us_find_group}"
					hint="#{msg.openuss4us_find_group}" styleClass="button_big" />
				<h:commandButton id="backButton" value="#{msg.back}"
					action="view:backward" styleClass="button_back" immediate="true" />
			</o:block>
		</h:form>
	</ui:define>
</ui:composition>
<!-- text above will be ignored -->
</body>
</html>
