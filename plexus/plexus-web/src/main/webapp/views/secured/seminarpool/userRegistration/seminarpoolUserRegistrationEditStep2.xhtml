<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:t="http://myfaces.apache.org/tomahawk"
	xmlns:o="http://www.openuss.org/jsfcontrols"
	xmlns:oc="http://www.openuss.org/jsf-core"
	xmlns:s="http://www.openuss.org/jsf-security"
	xmlns:c="http://java.sun.com/jstl/core"
	xmlns:plexus="http://www.openuss.org/plexus/jsf">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title><ui:insert name="title" /></title>
	<link href="../../css/openuss.css" rel="stylesheet" type="text/css"	media="screen,screen" />
	<link href="../../css/openuss-typo.css" rel="stylesheet" type="text/css" media="screen" />
</head>
<body>
<!-- text above will be ignored -->
<ui:composition template="/views/layout/dialog.xhtml">
		<ui:define name="title">
			<h:outputText value="#{msg['seminarpool_main_title']}" />
		</ui:define>
		<ui:define name="navigation">
			<ui:include src="/views/commons/navigation/seminarpool.xhtml" />
		</ui:define>
  		<ui:define name="content">
  			<h:form id="seminarpool_user_registration_form2">
				<t:saveState value="#{seminarpoolInfo}" id="seminarpoolState"/>
				<t:saveState value="#{seminarUserRegistrationInfo}" id="seminarUserRegistrationInfo"/>
  				<o:block label="#{msg.seminarpool_user_registration_step2_headline}">
					<div class="content_font_normal"> 
						<h:outputText value="#{msg.seminarpool_user_registration_step2_text}" escape="false"/>
			   		</div>
			   	</o:block>
			   	<o:block> 	
				   	<o:input 
						label="#{msg.seminarpool_neededseminars}"
						entity="seminarpoolUserRegistration.seminarUserRegistrationInfo" 
						property="neededSeminars" 
						maxlength="30" 
						required="true">
						<f:validateLongRange minimum="1" maximum="#{seminarpoolUserRegistration.maxNeededSeminars}"/>
					</o:input>
				   	
				   	<c:forEach var="i" begin="1" end="#{seminarpoolUserRegistration.maxPriority}">
					   	<h:outputLabel value="#{i}. #{msg.seminarpool_user_registration_seminar}" 
		 				   for="seminar_list#{i}" 
		 				   styleClass="field_label" />
						<h:selectOneListbox 
							id="seminar_list#{i}" 
							size="1" 
							styleClass="pulldown" 
							value="#{seminarpoolUserRegistration.priority}"
							valueChangeListener="#{seminarpoolUserRegistration.processSeminarSelectChanged}"
							required="false"
							immediate="true">
		 					<f:selectItems value="#{seminarpoolUserRegistration.allSeminars}"/>
						</h:selectOneListbox>				
					</c:forEach>
				</o:block>
			   
			   	<t:dataList 
						id="conditions"  
						var="conditions"
						value="#{seminarUserConditionValueList}"
						layout="unorderedList" rowCountVar="rowCount" rowIndexVar="index">
					   <o:block label="#{msg.seminarpool_entrance_limitation} #{index+1}">
											    
					    <div class="content_font_normal">
							
							<h:selectBooleanCheckbox 
								rendered="#{conditions.seminarConditionType.value==3}" 
								required="true" 
								value="#{conditions.conditionValueBoolean}"
								validator="#{seminarpoolUserRegistration.validateAcception}"
								/>
							<h:outputText value="#{conditions.seminarConditionDescription}" rendered="#{conditions.seminarConditionType.value==3}" />
							<h:outputText value="#{conditions.seminarConditionDescription}" rendered="#{conditions.seminarConditionType.value==2}" />
							<h:outputText value="#{conditions.seminarConditionDescription}" rendered="#{conditions.seminarConditionType.value==1}" />
							<br />
							<h:inputText rendered="#{conditions.seminarConditionType.value==1}" 
										 required="true" 
										 value="#{conditions.conditionValue}" class="field" />
							<h:inputTextarea rendered="#{conditions.seminarConditionType.value==2}" 
							                 required="true" 
							                 value="#{conditions.conditionValue}"  class="field"/>
						</div>
						</o:block>		
				</t:dataList>
			   
				<o:block>
				
			   		<h:commandButton action="view:backward" value="#{msg.back}" styleClass="button_cancel" immediate="true"/>
					<h:commandButton action="#{seminarpoolUserRegistration.editStep2}" value="#{msg.save}" styleClass="button_continue"/>
		  		</o:block>
		  	</h:form>
  		</ui:define>
	</ui:composition>
<!-- text above will be ignored -->
</body>
</html>
