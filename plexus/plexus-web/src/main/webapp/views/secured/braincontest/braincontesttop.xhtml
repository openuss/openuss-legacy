<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:news="http://www.openuss.org/news/jsf"
	xmlns:t="http://myfaces.apache.org/tomahawk"
	xmlns:o="http://www.openuss.org/jsfcontrols"
	xmlns:s="http://www.openuss.org/jsf-security"
	xmlns:c="http://java.sun.com/jstl/core"
	xmlns:plexus="http://www.openuss.org/plexus/jsf">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title><ui:insert name="title" /></title>
<link href="../../css/openuss.css" rel="stylesheet" type="text/css"
	media="screen,screen" />
<!-- css-Datei mit Farbdefinitionen der Rubrik -->
<link href="../../css/openuss-typo.css" rel="stylesheet" type="text/css"
	media="screen" />
</head>

<body>
<!-- text above will be ignored -->
<ui:composition template="/views/layout/layout.xhtml">
	<ui:define name="title">
		<h:outputText
			value="#{msg.course_main_title} - #{courseInfo.shortcut}" />
	</ui:define>
	<ui:define name="navigation">
		<ui:include src="/views/commons/navigation/course.xhtml" />
	</ui:define>
	<ui:define name="content">
		<!-- removed ACL tags -->
		<h:form id="brainContestTopListForm">
			<plexus:dataTable id="brainContestTopList"
				label="#{msg.braincontest_main_header}-#{msg.braincontest_toplist_header}-#{braincontest_contest.title} "
				value="views$secured$braincontest$braincontesttop.data"
		    	columnClasses="col_min_center, col_date, col_min_center, col_max_left"				
				var="answer" rows="20" rowIndex="index"
				infoText="#{msg.table_info_text_braincontests}">
				<t:column>
					<f:facet name="header">
						<h:outputText value="#{msg['braincontest_toplist_rank']}" />
					</f:facet>
					<h:outputText value="#{index+1}" />
				</t:column>

				<t:column>
					<f:facet name="header">
						<h:outputText value="#{msg['braincontest_toplist_time']}" />
					</f:facet>
					<h:outputText value="#{answer.answeredAt}" >
						<f:convertDateTime type="both" timeZone="#{visit.timeZone}"/>
					</h:outputText>
				</t:column>

				<t:column>
					<f:facet name="header">
						<h:outputText value="#{msg['braincontest_toplist_user']}" />
					</f:facet>
					<h:graphicImage styleClass="userphoto"
						value="/files?fileid=#{answer.imageId}"
						title="#{answer.solverName}" rendered="#{not empty answer.imageId}" />
					<h:graphicImage styleClass="userphoto"
						value="/images/icons/no_pic.gif" 
						alt="#{msg.user_profile_no_image}"
						title="#{msg.user_profile_no_image}"
						rendered="#{empty answer.imageId}" />
				</t:column>
				<t:column>
					<h:outputText value="#{answer.solverName}" />
				</t:column>

			</plexus:dataTable>

			<o:block>
				<h:commandButton value="${msg.back}" title="#{msg.back}"
					action="braincontest_main" styleClass="button" immediate="true" />
			</o:block>
		</h:form>
	</ui:define>
</ui:composition>

<!-- text above will be ignored -->

</body>
</html>
