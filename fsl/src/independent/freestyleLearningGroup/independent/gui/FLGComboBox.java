/* Generated by FreestyleLearninngGroup */

package freestyleLearningGroup.independent.gui;

import java.awt.event.*;
import java.util.Vector;
import java.beans.*;
import java.util.*;
import javax.swing.*;

public class FLGComboBox extends JComboBox {
    private Vector actionListeners;
    private ActionEvent lastActionEvent;
    private boolean keyPressed = false;
    private boolean mouseClicked = false;

    public FLGComboBox() {
//        actionListeners = new Vector();
//        super.addActionListener(new FLGComboBox_NoCurserSelectionActionListener());
//        super.addMouseListener(new FLGComboBox_MouseAdapter());
//        super.addKeyListener(new FLGComboBox_KeyListener());
    }
    
//    public boolean selectWithKeyChar(char keyChar) {
//        return false;
//    }
//
//    public void addActionListener(ActionListener listener) {
//        if (!actionListeners.contains(listener))
//            actionListeners.add(listener);
//    }
//
//    public void removeActionListener(ActionListener listener) {
//        actionListeners.remove(listener);
//    }
//
    protected void fireActionEvent(ActionEvent e) {
        for (int i = 0; i < actionListeners.size(); i++) {
            ((ActionListener)actionListeners.get(i)).actionPerformed(e);
        }
    }

    class FLGComboBox_NoCurserSelectionActionListener implements ActionListener {
        // do not fire action event if item selected by cursor keys
        // except selection occurred directly (without popup)
        public void actionPerformed(ActionEvent e) {
            if (!isPopupVisible() || mouseClicked) {
                fireActionEvent(e);
            }
            else {
                lastActionEvent = e;
            }
            keyPressed = false;
            mouseClicked = false;
        }
    }

    class FLGComboBox_MouseAdapter extends MouseAdapter {
        public void mousePressed(MouseEvent e) {
            mouseClicked = true;
            keyPressed = false;
        }
    }

    class FLGComboBox_KeyListener extends KeyAdapter {
        public void keyPressed(KeyEvent e) {
            mouseClicked = false;
            if (e.getKeyCode() == 10) {
                fireActionEvent(lastActionEvent);
            }
        }
    }
    
    public static void main(String[] args) {
        JFrame frame = new JFrame();
        frame.setSize(400,400);
        frame.setLocation(200,200);
        
        FLGComboBox cb = new FLGComboBox();
        
        for (int i = 0; i < 10; i++) {
            cb.addItem("Eintrag Nr. " + (i+1));
        }
        cb.addItem("ABC");
        cb.addItem("DEF");
        cb.addItem("GHI");
        frame.getContentPane().setLayout(new java.awt.BorderLayout());
        frame.getContentPane().add(cb, java.awt.BorderLayout.NORTH);
        frame.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);
        frame.setVisible(true);
    }   
}
