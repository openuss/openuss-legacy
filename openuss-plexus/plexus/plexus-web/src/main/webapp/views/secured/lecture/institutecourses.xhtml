<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:t="http://myfaces.apache.org/tomahawk"
      xmlns:o="http://www.openuss.org/jsfcontrols"
      xmlns:s="http://www.openuss.org/jsf-security"      
	  xmlns:c="http://java.sun.com/jstl/core"      
      xmlns:plexus="ttp://www.openuss.org/plexus/jsf">
      
 	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<title><ui:insert name="title"/></title>
		<link href="../../css/openuss.css" rel="stylesheet" type="text/css" media="screen,screen" />
		<!-- css-Datei mit Farbdefinitionen der Rubrik -->
		<link href="../../css/openuss-typo.css" rel="stylesheet" type="text/css" media="screen" />
	</head>

	<body>      
	<!-- text above will be ignored -->
	<ui:composition template="/views/layout/layout.xhtml">
		<s:acl domainObject="#{instituteInfo}" hasPermission="#{ACL.MANAGE_COURSE_TYPES}" ifNot="error"/>
  		<ui:define name="title"><h:outputText value="#{msg.institute_maintitle} - #{instituteInfo.name}"/></ui:define>
 		<ui:define name="navigation">
			<ui:include src="/views/commons/navigation/institute.xhtml" />
		</ui:define>
  		<ui:define name="content">
	  		<s:acl domainObject="#{instituteInfo}" hasPermission="#{ACL.MANAGE_COURSE_TYPES}" ifNot="error"/>
	  		<o:block>
	  			<p class="content_font_normal">
			  		Diese Seite listet alle Veranstaltungen auf, die konkreten Zeiträumen zugeordnet wurden. Sie kommen in die einzelnen Veranstaltungen durch einfaches
			  		Klicken auf die Veranstaltung. Zusätzlich haben Sie die Möglichkeit, Veranstaltungen neuen Zeiträumem zuzuweisen.
	  			</p>
	  		</o:block>
  			<h:form id="coursesForm">
  				<c:if test="#{!(views$public$coursetype$courses.renderCourseNew)}">
						<ui:include src="coursetypecoursestable.xhtml"/>
						<o:block>
							<h:commandButton 
							    id="addCourse"
								action="#{views$public$coursetype$courses.addCourse}" 
								value="#{msg.coursetype_command_add}" 
								title="#{msg.coursetype_command_add_hint}"
								styleClass="button_big"/>
						</o:block>
				</c:if>
				<c:if test="#{views$public$coursetype$courses.renderCourseNew}">
					<h:outputLabel value="#{msg.coursetype_preferences_periods}" for="coursePeriodSelect" styleClass="field_label" />
					<h:selectOneListbox id="institutePeriods" size="1" styleClass="pulldown" value="#{courseInfo.periodId}">
			    		<f:selectItems value="#{views$public$coursetype$coursetypes.belongingInstitutePeriods}"/>
					</h:selectOneListbox>
					<h:outputLabel value="#{msg.coursetype_preferences_periods}" for="courseCourseTypeSelect" styleClass="field_label" />
					<h:selectOneListbox id="instituteCourseTypes" size="1" styleClass="pulldown" value="#{courseInfo.courseTypeId}">
			    		<f:selectItems value="#{views$public$coursetype$coursetypes.courseTypesOfInstitute}"/>
					</h:selectOneListbox>
					<h:commandButton 
					    id="SaveCourse"
						action="#{views$public$coursetype$courses.saveCourse}" 
						value="#{msg.coursetype_command_add}" 
						title="#{msg.coursetype_command_add_hint}"
						styleClass="button_big"/>
				</c:if>
			</h:form>
			
			
				
  		</ui:define>
	</ui:composition>
	<!-- text above will be ignored -->
	</body>
</html>