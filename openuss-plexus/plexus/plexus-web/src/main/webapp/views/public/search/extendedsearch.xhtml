<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:t="http://myfaces.apache.org/tomahawk"
      xmlns:o="http://www.openuss.org/jsfcontrols"
	  xmlns:c="http://java.sun.com/jstl/core"      
      xmlns:plexus="ttp://www.openuss.org/plexus/jsf">
      
 	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<title><ui:insert name="title"/></title>
		<link href="../../css/openuss.css" rel="stylesheet" type="text/css" media="screen,screen" />
		<!-- css-Datei mit Farbdefinitionen der Rubrik -->
		<link href="../../css/openuss-typo.css" rel="stylesheet" type="text/css" media="screen" />
		
	</head>

	<body>      
	<!-- text above will be ignored -->
	
	<f:view>
	
	<ui:composition template="/views/layout/layout.xhtml">
  		<ui:define name="navigation"> 
			<ui:include src="/views/commons/navigation/desktop.xhtml" />
		</ui:define>
		<ui:define name="breadcrumb">
			<ui:include src="/views/commons/navigation/crumb.xhtml" />
		</ui:define>
 		<ui:define name="sidebar"> 
			<ui:include src="/views/commons/sidebar/newsbox.xhtml" />
		</ui:define>
  		<ui:define name="content">
  			<h:form id="extendedSearchForm"> 
  				<script language="javascript">
					function pulldownChanged(){
						document.getElementById("_id6:extendedSearchForm:updateButton").click();
					}
				</script>
				<o:block label="#{msg.extended_search_headline}">
					<h:panelGrid border="0" columns="2" footerClass="footer_right">
						<h:outputText value="#{msg.extended_search_search_term} " styleClass="field_label" style="vertical-align:top;" />
					 	<h:inputText id="search_term" styleClass="field" value="#{extended_search_results.textToSearch}"/>
						<h:outputText value=" "/>
						<h:panelGrid border="0" columns="1">
					 		<h:panelGroup>
					 			<h:selectBooleanCheckbox id="title_only" value="#{extended_search_results.titleOnly}"/>
								<h:outputText value="#{msg.extended_search_title_only}"/>
								<t:htmlTag value="br" />
								<h:selectBooleanCheckbox id="official_only" value="#{extended_search_results.officialOnly}"/>
								<h:outputText value="#{msg.extended_search_official_only}"/>
					 		</h:panelGroup>
					 	</h:panelGrid>
						<h:outputText value=" "/>
						<h:panelGroup>
							<t:htmlTag value="hr" style="width:500px; margin-left:0; text-align:left;" />
						</h:panelGroup>
						<h:outputText value="#{msg.extended_search_scope}" styleClass="field_label"/>
						<h:selectOneMenu id="search_scope" value="#{extended_search_results.searchScopeId}" styleClass="pulldown_inline" 
							onchange="pulldownChanged()" valueChangeListener="#{views$public$search$extendedsearch.searchScopeChanged}">
							<f:selectItems value="#{extended_search_results.searchScopes}"/>
						</h:selectOneMenu>
						<h:outputText value="#{msg.extended_search_result_type} " styleClass="field_label"/>
						<h:selectOneMenu id="search_for" value="#{extended_search_results.resultTypeId}" styleClass="pulldown_inline" 
							onchange="pulldownChanged()" valueChangeListener="#{views$public$search$extendedsearch.resultTypeChanged}">
							<f:selectItems value="#{extended_search_results.resultTypes}"/>
						</h:selectOneMenu>
						 <h:outputText value=" "/>
						<h:panelGroup>
							<t:htmlTag value="hr" style="width:500px; margin-left:0; text-align:left;" />
						</h:panelGroup>
						<h:outputText value="#{views$public$search$extendedsearch.organisationLabel}" styleClass="field_label"
							style="#{views$public$search$extendedsearch.visibilityOrganisation}"/>
						<h:selectOneMenu id="organisation" value="#{extended_search_results.organisationId}" styleClass="pulldown_inline" 
							onchange="pulldownChanged()" valueChangeListener="#{views$public$search$extendedsearch.organisationChanged}"
							style="#{views$public$search$extendedsearch.visibilityOrganisation}">
							<f:selectItems value="#{extended_search_results.organisations}"/>
						</h:selectOneMenu>
						<h:outputText value="#{views$public$search$extendedsearch.suborganisationLabel}"
							style="#{views$public$search$extendedsearch.visibilitySuborganisation}" styleClass="field_label"/>
						<h:selectOneMenu id="suborganisation" value="#{extended_search_results.suborganisationId}" styleClass="pulldown_inline" 
							onchange="pulldownChanged()" valueChangeListener="#{views$public$search$extendedsearch.suborganisationChanged}"
							style="#{views$public$search$extendedsearch.visibilitySuborganisation}">
							<f:selectItems value="#{extended_search_results.suborganisations}"/>
						</h:selectOneMenu>
						<h:outputText value="#{views$public$search$extendedsearch.institutionLabel}" 
							style="#{views$public$search$extendedsearch.visibilityInstitution}" styleClass="field_label"/>
						<h:selectOneMenu id="institution" value="#{extended_search_results.institutionId}" styleClass="pulldown_inline" 
							onchange="pulldownChanged()" valueChangeListener="#{views$public$search$extendedsearch.institutionChanged}"
							style="#{views$public$search$extendedsearch.visibilityInstitution}">
							<f:selectItems value="#{extended_search_results.institutions}"/>
						</h:selectOneMenu>
						<h:outputText value="#{views$public$search$extendedsearch.courseTypeLabel}" 
							style="#{views$public$search$extendedsearch.visibilityCourseType}" styleClass="field_label"/>
						<h:selectOneMenu id="course_type" value="#{extended_search_results.courseTypeId}" styleClass="pulldown_inline" 
							onchange="pulldownChanged()" valueChangeListener="#{views$public$search$extendedsearch.courseTypeChanged}"
							style="#{views$public$search$extendedsearch.visibilityCourseType}">
							<f:selectItems value="#{extended_search_results.courseTypes}"/>
						</h:selectOneMenu>
						<h:outputText value="#{views$public$search$extendedsearch.periodLabel}" 
							style="#{views$public$search$extendedsearch.visibilityPeriod}" styleClass="field_label"/>
						<h:selectOneMenu id="period" value="#{extended_search_results.periodId}" styleClass="pulldown_inline" 
							onchange="pulldownChanged()" valueChangeListener="#{views$public$search$extendedsearch.periodChanged}"
							style="#{views$public$search$extendedsearch.visibilityPeriod}">
							<f:selectItems value="#{extended_search_results.periods}"/>
						</h:selectOneMenu>
						<f:facet name="footer">
							<h:commandButton action="#{views$public$search$extendedsearch.extendedSearchCriteriaUpdate}" id="updateButton" value="selection_update" style="display:none;" />
						</f:facet>
					</h:panelGrid>
					<h:commandButton action="#{views$public$search$extendedsearch.extendedSearch}" value="${msg.extended_search_search}" styleClass="button_save" />
				</o:block>
				<ui:include src="extendedsearchresults.xhtml" />
			</h:form>
		</ui:define>

	  			
	</ui:composition></f:view></body>
</html>