<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:c="http://java.sun.com/jstl/core"
	xmlns:oc="http://www.openuss.org/jsf-core"
	xmlns:t="http://myfaces.apache.org/tomahawk">
<ui:composition>
	<c:if test="${empty required}">
		<c:set var="required" value="false" />
	</c:if>
	<c:if test="${empty label}">
		<c:set var="label" value="#{oc:getInputLabel(entity, property, namespace)}" />
	</c:if>
	<c:if test="${empty title}">
		<c:set var="title" value="#{oc:getInputHint(entity, property, namespace)}" />
	</c:if>
	<c:if test="${empty styleClass}">
		<c:set var="styleClass" value="field" />
	</c:if>
	<c:if test="${empty disabled}">
		<c:set var="disabled" value="false"/>
	</c:if>
	<c:if test="${empty maxlength}">
		<c:set var="maxlength" value="50"/>
	</c:if>	
	<c:if test="${empty type}">
		<c:set var="type" value="both"/>
	</c:if>
	<c:if test="${empty redisplay}">
		<c:set var="redisplay" value="true"/>
	</c:if>
	<c:if test="${empty timeZone}">
		<c:set var="timeZone" value="#{visit.timeZone}"/>
	</c:if>
	<c:if test="${empty popupCalendar}">
		<c:set var="popupCalendar" value="true"/>
	</c:if>
	<oc:setEntityBinding var="value" entity="${entity}" property="${property}"/>
	<oc:isDate id="value">
		<h:outputLabel id="${property}Label" value="${label}" for="${property}"	styleClass="${styleClass}_label" />
		<t:inputDate
			id="${property}"
			value="${value}"
			required="${required}"
  			title="${title}"
  			styleClass="dateField"
  			timeZone="${timeZone}"
  			popupCalendar="${popupCalendar}"
  			type="${type}"
  			lang="${lang}">
  			<ui:insert/>
		</t:inputDate>
	</oc:isDate>	
	<oc:isBoolean id="value">
		<h:selectBooleanCheckbox 
			id="${property}" 
			value="#{value}" 
			required="${required}" 
			disabled="${disabled}"
			title="${title}"
			styleClass="${styleClass}CheckBox"/>
		<h:outputLabel id="${property}Label" value="${label}" for="${property}"	styleClass="${styleClass}_label" />
		<h:message id="${property}Error" for="${property}" styleClass="${styleClass}Error" showDetail="true" showSummary="false" />
	</oc:isBoolean>
	<oc:isText id="value">
		<h:outputLabel id="${property}Label" value="${label}" for="${property}"	styleClass="${styleClass}_label" />
		<c:choose>
			<c:when test="${type == 'password'}">
				<h:inputSecret 
					id="${property}"
					value="${value}"
					required="${required}" 
					styleClass="${styleClass}" 
					disabled="${disabled}" 
					redisplay="${redisplay}"
					size="${size}"
					maxlength="${maxlength}"
					title="${title}">
					<ui:insert />
				</h:inputSecret>
			</c:when>
			<c:when test="${type == 'textarea'}">
				<h:inputTextarea 
					id="${property}" 
					value="${value}"
					required="${required}" 
					styleClass="${styleClass}" 
					maxlength="${maxlength}"
					disabled="${disabled}"
					title="${title}">
					<ui:insert />
				</h:inputTextarea>
			</c:when>
			<c:otherwise>
				<c:if test="#{empty binding}">
					<h:inputText 
						id="${property}" 
						value="${value}"
						required="${required}"
						styleClass="${styleClass}" 
						disabled="${disabled}"
						maxlength="${maxlength}"
						size="${size}"
						rendered="${rendered}"
						title="${title}">
						<ui:insert />
					</h:inputText>
				</c:if>
				<c:if test="#{!empty binding}">
					<h:inputText 
						id="${property}" 
						value="${value}"
						required="${required}"
						styleClass="${styleClass}" 
						disabled="${disabled}"
						maxlength="${maxlength}"
						size="${size}"
						rendered="${rendered}"
						title="${title}"
						binding="${binding}">
						<ui:insert />
					</h:inputText>
				</c:if>
			</c:otherwise>
		</c:choose>
		<h:message id="${property}Error" for="${property}" styleClass="${styleClass}_error" showDetail="true" showSummary="false" />
	</oc:isText>
</ui:composition>
</html>
